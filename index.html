<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ScrollListView by ryanseddon</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ScrollListView</h1>
        <p>Performant list view that re-uses cells to display large data sets</p>

        <p class="view"><a href="https://github.com/ryanseddon/ScrollListView">View the Project on GitHub <small>ryanseddon/ScrollListView</small></a></p>


        <ul>
          <li><a href="https://github.com/ryanseddon/ScrollListView/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ryanseddon/ScrollListView/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ryanseddon/ScrollListView">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="scrolllistview" class="anchor" href="#scrolllistview"><span class="octicon octicon-link"></span></a>ScrollListView</h1>

<p>ScrollListView.js is a library that allows you to scroll over large data sets without get a performance impact. It does this though a clever algorithm of re-using a fixed number of cells and as you scroll repaints them beneath the last item.</p>

<h2>
<a name="demos" class="anchor" href="#demos"><span class="octicon octicon-link"></span></a>Demos</h2>

<p>Go check the live demo of an infinite list using <a href="http://ryanseddon.github.io/ScrollListView/example/">ScrollListView</a> and one <a href="http://ryanseddon.github.io/ScrollListView/example/list.html">without</a>.</p>

<h2>
<a name="context" class="anchor" href="#context"><span class="octicon octicon-link"></span></a>Context</h2>

<p>Take a look at the <a href="http://www.thecssninja.com/javascript/scrolllistview">article</a> I wrote about it if you'd like to know more about how it works.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a name="bower" class="anchor" href="#bower"><span class="octicon octicon-link"></span></a>Bower</h3>

<p>To install this library through bower run the following command</p>

<div class="highlight highlight-js"><pre><span class="nx">bower</span> <span class="nx">install</span> <span class="nx">ScrollListView</span>
</pre></div>

<p>Include the script in your website it can be placed anywhere or combined with other scripts.</p>

<h3>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h3>

<p>For a live example I highly recommend you check out the demo and view-source. To see how to you can configure it readon.</p>

<div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">scrollListView</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ScrollListView</span><span class="p">({</span>
    <span class="nx">element</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.list'</span><span class="p">),</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">[...</span> <span class="nx">array</span> <span class="nx">of</span> <span class="nx">objects</span> <span class="nx">to</span> <span class="nx">render</span><span class="p">],</span>
    <span class="nx">cellHeight</span><span class="o">:</span> <span class="mi">150</span><span class="p">,</span>
    <span class="nx">renderFn</span><span class="o">:</span> <span class="nx">render</span><span class="p">,</span>
    <span class="nx">renderCellFn</span><span class="o">:</span> <span class="nx">renderCellFn</span>
<span class="p">});</span>
</pre></div>

<table>
<tr>
<th>element</th>
        <td>The element that the re-usable cells will live inside. You don't add children to this the `renderFn` takes care of that.</td>
    </tr>
<tr>
<th>data</th>
        <td>The array of data the list will read from work scroll offset and heights</td>
    </tr>
<tr>
<th>cellHeight</th>
        <td>The abslute height in px that the cell will be.</td>
    </tr>
<tr>
<th>renderFn</th>
        <td>This function gets called on initialisation to render the initial list.</td>
    </tr>
<tr>
<th>renderCellFn</th>
        <td>When a cell is determined to be far enough out of the viewport this will be called with the element you can safely overwrite with the new data and the index in your data array passed in earlier. </td>
    </tr>
</table><h4>
<a name="render-methods" class="anchor" href="#render-methods"><span class="octicon octicon-link"></span></a>render methods</h4>

<p>The only thing that ScrollListView expects is that you pass through an array that contains your list data. How you choose to render that data is up to you.</p>

<p>I'll take the example code and walk you through how I chose to render my ScrollListView.</p>

<div class="highlight highlight-js"><pre><span class="kd">function</span> <span class="nx">render</span><span class="p">(</span><span class="nx">count</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cellsFrag</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>

    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">cell</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'li'</span><span class="p">),</span>
        <span class="nx">tweet</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>

        <span class="nx">cell</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'scrolllist__cell gpuarise'</span><span class="p">;</span>
        <span class="nx">cell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">tmpl</span><span class="p">(</span><span class="s1">'tweet_tpl'</span><span class="p">,</span> <span class="nx">tweet</span><span class="p">);</span>
        <span class="nx">cell</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">order</span> <span class="o">=</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="nx">cellsFrag</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">cell</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">listContainer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">cellsFrag</span><span class="p">);</span>
    <span class="nx">listContainer</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">minHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">CELLHEIGHT</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>The above is very simple the <code>count</code> argument is the length of cells that the list uses based on some calculations on window height and the <code>cellHeight</code> you would of configured on init.</p>

<p>All I'm doing is creating a document fragment and looping over the <code>count</code> grabbing the corresponding bits of data from the data passed into our constructor it then create a list item that I innerHTML my data using the very simple tpl.js template engine.</p>

<h4>
<a name="rendercell-method" class="anchor" href="#rendercell-method"><span class="octicon octicon-link"></span></a>renderCell method</h4>

<p>The <code>renderCell</code> method is even easier.</p>

<div class="highlight highlight-js"><pre><span class="kd">function</span> <span class="nx">renderCell</span><span class="p">(</span><span class="nx">cell</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">cell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">tmpl</span><span class="p">(</span><span class="s1">'tweet_tpl'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">index</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>

<p>This method passes in the <code>cell</code> and the <code>index</code> of which bit of data I should render into this cell then all I do is apply the template to the <code>cell</code>.</p>

<p>Each of these methods our bound to the instance they're called from so <code>this</code> refers to your scrollListView instance.</p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright 2014, Ryan Seddon
This content is released under the MIT license <a href="http://ryanseddon.mit-license.org">http://ryanseddon.mit-license.org</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/ryanseddon">ryanseddon</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>